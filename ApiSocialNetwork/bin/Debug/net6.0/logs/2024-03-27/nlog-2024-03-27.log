2024-03-27 00:02:57.8442|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETH" accepted.
2024-03-27 00:02:57.8661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETH" started.
2024-03-27 00:02:57.8661|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/api/Pictures - -
2024-03-27 00:02:58.6842|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:02:58.6842|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter
2024-03-27 00:02:58.6842|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Pictures'
2024-03-27 00:02:58.6842|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)' with route pattern 'api/Pictures' is valid for the request path '/api/Pictures'
2024-03-27 00:02:58.6842|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:02:58.6842|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:02:59.6986|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetPictures", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiSocialNetwork.Models.Picture]]] GetPictures() on controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork).
2024-03-27 00:03:00.6118|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:03:00.6118|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:03:00.6118|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:03:00.6118|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:03:00.6118|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:03:00.6118|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:03:00.6118|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:03:00.6118|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:03:00.6118|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:03:00.6118|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:03:00.6118|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:03:00.6118|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:03:01.6596|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:03:02.9423|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Picture>()
    .OrderByDescending(picture => picture.IdPicture)'
2024-03-27 00:03:03.0468|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Picture>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Picture.IdPicture (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Picture.PhotoData (byte[]) Required, 1], [Property: Picture.UploadDate (DateTime) Required, 2] }
        SELECT p.ID_Picture, p.PhotoData, p.UploadDate
        FROM Picture AS p
        ORDER BY p.ID_Picture DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Picture>, 
    ApiSocialNetwork.Models.SocialNetworkContext, 
    False, 
    False, 
    True
)'
2024-03-27 00:03:03.0468|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:03:03.0468|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:03:03.0468|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:03:03.0468|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:03:03.0468|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:03:03.0571|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:03:04.5208|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:03:04.5817|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:03:04.6385|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:03:04.6966|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:03:04.7582|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:03:04.7582|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:03:04.7582|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:03:04.7582|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:03:04.7582|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:03:04.7582|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3129.0318ms.
2024-03-27 00:03:05.5299|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:03:05.5299|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:03:05.5299|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:03:05.5299|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:03:05.5299|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:03:05.5299|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:03:05.5299|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:03:05.5299|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:03:05.5299|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'.
2024-03-27 00:03:05.5299|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain)
2024-03-27 00:03:05.5299|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:03:05.5299|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:03:05.5299|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:03:05.5299|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApiSocialNetwork.Models.Picture, ApiSocialNetwork, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-27 00:03:06.9297|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:03:06.9297|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:03:06.9297|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:03:06.9297|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) in 6319.7525ms
2024-03-27 00:03:07.7576|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:03:08.6397|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETH" completed keep alive response.
2024-03-27 00:03:08.6397|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:03:08.6397|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/api/Pictures - - - 200 - application/json;+charset=utf-8 10773.3989ms
2024-03-27 00:04:03.4652|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETI" accepted.
2024-03-27 00:04:03.4652|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETI" started.
2024-03-27 00:04:03.4652|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:04:04.2551|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:04.2551|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:04:04.2551|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:04:04.2551|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:04:04.2551|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:04:04.4732|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETJ" accepted.
2024-03-27 00:04:04.4737|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETJ" started.
2024-03-27 00:04:04.2551|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:04:05.4808|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETK" accepted.
2024-03-27 00:04:05.4808|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETK" started.
2024-03-27 00:04:04.4737|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - -
2024-03-27 00:04:06.2155|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:06.2155|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETJ" completed keep alive response.
2024-03-27 00:04:06.4834|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETL" accepted.
2024-03-27 00:04:06.4834|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETL" started.
2024-03-27 00:04:05.2812|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:04:06.9517|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:04:06.9517|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:04:06.9517|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:04:06.9517|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:04:06.9517|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:04:06.9517|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:04:06.9517|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:04:06.9582|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:04:06.9582|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:04:06.9582|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:06.9582|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:06.9582|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:04:06.9582|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:06.9582|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:06.9582|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:06.9582|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:06.9582|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:07.4850|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETM" accepted.
2024-03-27 00:04:07.4850|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETM" started.
2024-03-27 00:04:06.2155|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - - - 200 - text/html;charset=utf-8 1738.9686ms
2024-03-27 00:04:06.9582|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:04:09.1223|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:04:07.4850|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Role application/json 83
2024-03-27 00:04:10.0262|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:10.0262|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:04:10.0262|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/api/Role'
2024-03-27 00:04:10.0262|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints
2024-03-27 00:04:10.0477|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETM" completed keep alive response.
2024-03-27 00:04:05.4808|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119
2024-03-27 00:04:10.9044|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:10.9044|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|PUT requests are not supported
2024-03-27 00:04:10.9044|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/MessageUsers/15'
2024-03-27 00:04:10.9044|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)' with route pattern 'api/MessageUsers/{id}' is valid for the request path '/api/MessageUsers/15'
2024-03-27 00:04:10.9044|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:04:06.4834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - -
2024-03-27 00:04:11.8489|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:11.8489|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETL" completed keep alive response.
2024-03-27 00:04:08.6335|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119
2024-03-27 00:04:12.7891|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:12.7891|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|PUT requests are not supported
2024-03-27 00:04:12.7891|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/MessageUsers/15'
2024-03-27 00:04:12.7891|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)' with route pattern 'api/MessageUsers/{id}' is valid for the request path '/api/MessageUsers/15'
2024-03-27 00:04:12.7891|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:04:09.1557|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:04:13.6686|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "IdUser") == __p_0)'
2024-03-27 00:04:13.7109|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.IdUser (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.FcmToken (string) MaxLength(255), 1], [Property: User.FirstName (string) Required MaxLength(50), 2], [Property: User.LastName (string) Required MaxLength(50), 3], [Property: User.LoginUser (string) Required Index MaxLength(50) Ansi, 4], [Property: User.MiddleName (string) MaxLength(50), 5], [Property: User.NumberOfMessages (int?), 6], [Property: User.PasswordUser (string) Required MaxLength(100) Ansi, 7], [Property: User.PhotoId (int?), 8], [Property: User.RoleId (int) Required FK Index, 9], [Property: User.Salt (string) MaxLength(256) Ansi, 10], [Property: User.TimeInTheApp (TimeSpan?), 11] }
            SELECT TOP(1) u.ID_User, u.FcmToken, u.First_name, u.Last_name, u.Login_User, u.Middle_name, u.Number_of_messages, u.Password_User, u.Photo_ID, u.Role_ID, u.Salt, u.Time_in_the_app
            FROM Users AS u
            WHERE u.ID_User == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ApiSocialNetwork.Models.SocialNetworkContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-27 00:04:13.7240|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:04:13.7240|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:04:13.7240|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:13.7240|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:13.7240|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:04:10.0477|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Role application/json 83 - 404 0 - 2561.3623ms
2024-03-27 00:04:14.5342|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETM", Request id "0HN2DQSDTDETM:00000002": started reading request body.
2024-03-27 00:04:14.5342|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETM", Request id "0HN2DQSDTDETM:00000002": done reading request body.
2024-03-27 00:04:15.0025|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETH" received FIN.
2024-03-27 00:04:15.0025|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETH" disconnecting.
2024-03-27 00:04:15.0025|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETH" stopped.
2024-03-27 00:04:15.0025|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-27 00:04:13.7793|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:04:15.4587|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:15.4802|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:04:15.4802|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:15.4802|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:15.4964|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:15.5084|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:04:15.5084|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:04:15.5281|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:04:15.5467|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:15.5467|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:15.5467|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:04:15.5590|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:04:15.6087|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:04:15.6087|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:04:15.6087|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:04:14.5342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/api/Pictures - -
2024-03-27 00:04:16.3349|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:16.3349|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter
2024-03-27 00:04:16.3349|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Pictures'
2024-03-27 00:04:16.3349|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)' with route pattern 'api/Pictures' is valid for the request path '/api/Pictures'
2024-03-27 00:04:16.3349|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:04:10.9044|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:04:11.8489|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - - - 200 - text/html;charset=utf-8 5365.4629ms
2024-03-27 00:04:16.3349|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:04:17.6721|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (2,062ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:04:20.4332|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:04:20.4332|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:20.4332|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:17.2416|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PutMessageUser", controller = "MessageUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutMessageUser(Int32, ApiSocialNetwork.Models.MessageUser) on controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork).
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:21.3158|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' using the name '' in request data ...
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETK", Request id "0HN2DQSDTDETK:00000002": started reading request body.
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETK", Request id "0HN2DQSDTDETK:00000002": done reading request body.
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.MessageUser'
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:04:21.3175|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:04:21.3373|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:04:21.3373|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:21.3373|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:21.3373|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:21.3373|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:19.1319|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetPictures", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiSocialNetwork.Models.Picture]]] GetPictures() on controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork).
2024-03-27 00:04:22.7183|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:04:22.7183|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:04:22.7183|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:04:22.7183|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:04:22.7183|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:04:22.7183|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:04:22.7183|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:04:22.7183|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:22.7183|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:22.7183|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:22.7183|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:23.5358|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETM" received FIN.
2024-03-27 00:04:23.5358|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETJ" received FIN.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETL" received FIN.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETI" received FIN.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETL" sending FIN because: "The client closed the connection."
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETI" sending FIN because: "The client closed the connection."
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETL" disconnecting.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETJ" sending FIN because: "The client closed the connection."
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETJ" disconnecting.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETI" disconnecting.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETK" received FIN.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETK" sending FIN because: "The client closed the connection."
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETK" disconnecting.
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETM" sending FIN because: "The client closed the connection."
2024-03-27 00:04:23.5360|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETM" disconnecting.
2024-03-27 00:04:18.2680|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Role application/json 83
2024-03-27 00:04:23.6680|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:04:23.6680|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:04:23.6680|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/api/Role'
2024-03-27 00:04:23.6680|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints
2024-03-27 00:04:20.4923|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cf176a2c-2d82-44a7-9357-b8d3fd8dc69e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cf176a2c-2d82-44a7-9357-b8d3fd8dc69e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:04:24.8157|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:24.8157|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:24.8157|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:24.8157|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:22.7183|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:04:21.3373|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:04:26.3641|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) with arguments (15, ApiSocialNetwork.Models.MessageUser)
2024-03-27 00:04:23.6680|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Role application/json 83 - 0 - - 5402.1862ms
2024-03-27 00:04:27.1975|DEBUG|Microsoft.AspNetCore.Server.Kestrel.BadRequests|Connection id "0HN2DQSDTDETL" bad request data: "Invalid request line."|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-27 00:04:27.1975|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETL" stopped.
2024-03-27 00:04:12.7891|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:04:24.8157|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 17864.5646ms
2024-03-27 00:04:25.4818|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:04:30.3702|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:04:30.3702|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:04:30.3702|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:30.3702|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:30.3702|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:04:26.3641|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:04:31.2208|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'MessageUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:31.2208|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:04:31.2208|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:04:31.2208|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:04:31.2208|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:31.2291|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:31.2291|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:04:31.2291|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:04:31.2407|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:04:31.2407|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:04:31.2407|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:04:29.5056|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:04:30.3702|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:04:33.7897|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:33.8511|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:33.9091|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:33.9654|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:34.0343|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:34.0389|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:34.0389|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:04:34.0389|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:34.0389|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:31.2407|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:04:34.3601|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:04:34.3649|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:04:34.3649|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:04:34.3649|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:34.3649|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:04:34.3649|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:04:34.3649|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'MessageUser' tracked by 'SocialNetworkContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:04:34.3649|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:04:32.1665|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cf176a2c-2d82-44a7-9357-b8d3fd8dc69e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:04:35.2667|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:04:28.5411|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PutMessageUser", controller = "MessageUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutMessageUser(Int32, ApiSocialNetwork.Models.MessageUser) on controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork).
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' using the name '' in request data ...
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:04:36.0470|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETJ", Request id "0HN2DQSDTDETJ:00000003": started reading request body.
2024-03-27 00:04:34.0389|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8557.8785ms.
2024-03-27 00:04:36.9997|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:36.9997|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:36.9997|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:36.9997|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:36.9997|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:36.9997|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:36.9997|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:04:36.9997|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:04:36.9997|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:04:36.9997|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:04:36.9997|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:04:36.9997|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:04:35.2667|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 31800.8128ms
2024-03-27 00:04:37.8753|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETI" stopped.
2024-03-27 00:04:34.3649|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 8008.9091ms.
2024-03-27 00:04:38.7781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:38.7781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:04:38.7781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:38.7781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:04:38.7781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:38.7781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:38.7781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:04:36.0552|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) in 8.0741ms
2024-03-27 00:04:36.9997|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApiSocialNetwork.Models.Picture, ApiSocialNetwork, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-27 00:04:40.6168|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:04:40.6168|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:40.6168|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:38.7781|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2024-03-27 00:04:41.5625|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:04:41.5625|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:41.5625|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:04:39.6291|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:04:40.6168|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) in 17898.6337ms
2024-03-27 00:04:41.5625|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) in 20246.8707ms
2024-03-27 00:04:42.4271|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync(Stream utf8Json, ReadBufferState bufferState, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:04:44.1277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:04:45.8299|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:04:43.3444|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:04:46.7324|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:04:45.0626|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119 - 400 - text/plain;+charset=utf-8 36429.2261ms
2024-03-27 00:04:47.6709|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETJ", Request id "0HN2DQSDTDETJ:00000003": done reading request body.
2024-03-27 00:04:47.6709|DEBUG|Microsoft.AspNetCore.Server.Kestrel.BadRequests|Connection id "0HN2DQSDTDETJ" bad request data: "Invalid request line."|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-27 00:04:47.6709|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETJ" stopped.
2024-03-27 00:04:45.8299|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119 - 0 - - 40345.1109ms
2024-03-27 00:04:48.5817|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETK" stopped.
2024-03-27 00:04:46.7324|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/api/Pictures - - - 0 - application/json;+charset=utf-8 32197.0478ms
2024-03-27 00:04:49.5605|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETM" stopped.
2024-03-27 00:05:31.4685|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETN" accepted.
2024-03-27 00:05:31.4685|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETN" started.
2024-03-27 00:05:31.4685|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/api/Applications - -
2024-03-27 00:05:32.2361|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:05:32.2361|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter
2024-03-27 00:05:32.2361|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:05:32.2361|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.GetApplications (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:05:32.2361|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.GetApplications (ApiSocialNetwork)'
2024-03-27 00:05:32.2361|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.GetApplications (ApiSocialNetwork)'
2024-03-27 00:05:32.9767|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetApplications", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiSocialNetwork.Models.Application]]] GetApplications() on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:05:34.0450|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:05:34.0450|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:05:34.0450|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:05:34.0450|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:05:34.0450|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:05:34.0450|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:05:34.0450|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:05:34.0450|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:05:34.0450|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:05:34.0450|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:05:34.0450|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:05:34.0450|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.GetApplications (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:05:34.9136|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:05:35.9147|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Application>()'
2024-03-27 00:05:35.9147|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Application>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Application.IdApplications (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Application.RecipientId (int) Required, 1], [Property: Application.SenderId (int) Required, 2] }
        SELECT a.ID_Applications, a.Recipient_ID, a.Sender_ID
        FROM Applications AS a), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Application>, 
    ApiSocialNetwork.Models.SocialNetworkContext, 
    False, 
    False, 
    True
)'
2024-03-27 00:05:35.9147|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:05:35.9147|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:05:35.9147|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:05:35.9147|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:05:35.9147|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID_Applications], [a].[Recipient_ID], [a].[Sender_ID]
FROM [Applications] AS [a]
2024-03-27 00:05:35.9147|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID_Applications], [a].[Recipient_ID], [a].[Sender_ID]
FROM [Applications] AS [a]
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:05:36.7563|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:05:36.7563|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.ApplicationsController.GetApplications (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1847.3433ms.
2024-03-27 00:05:37.6945|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:05:37.6945|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:05:37.6945|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:05:37.6945|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:05:37.6945|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:05:37.6945|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:05:37.6945|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:05:37.6945|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:05:37.6945|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'.
2024-03-27 00:05:37.6945|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain)
2024-03-27 00:05:37.6945|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:05:37.6945|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:05:37.6945|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:05:37.6945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApiSocialNetwork.Models.Application, ApiSocialNetwork, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-27 00:05:38.7456|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:05:38.7456|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:05:38.7456|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:05:38.7456|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.GetApplications (ApiSocialNetwork) in 4700.6062ms
2024-03-27 00:05:39.5688|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.GetApplications (ApiSocialNetwork)'
2024-03-27 00:05:40.4509|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETN" completed keep alive response.
2024-03-27 00:05:40.4509|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:05:40.4509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/api/Applications - - - 200 - application/json;+charset=utf-8 8982.2060ms
2024-03-27 00:06:21.1523|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETO" accepted.
2024-03-27 00:06:21.1523|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETO" started.
2024-03-27 00:06:21.1523|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:06:21.9351|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:06:21.9351|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:06:21.9351|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:06:21.9351|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:06:21.9351|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:06:22.1573|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETP" accepted.
2024-03-27 00:06:22.1573|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETP" started.
2024-03-27 00:06:21.9351|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:06:23.1628|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETQ" accepted.
2024-03-27 00:06:23.1628|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETQ" started.
2024-03-27 00:06:22.1573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - -
2024-03-27 00:06:23.7085|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:06:23.7085|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETP" completed keep alive response.
2024-03-27 00:06:24.1664|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETR" accepted.
2024-03-27 00:06:24.1664|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETR" started.
2024-03-27 00:06:22.7752|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:06:24.7371|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:24.7371|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:24.7371|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:24.7371|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:24.7371|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:25.1803|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETS" accepted.
2024-03-27 00:06:25.1803|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETS" started.
2024-03-27 00:06:23.7085|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - - - 200 - text/html;charset=utf-8 1550.5292ms
2024-03-27 00:06:24.7371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:06:26.5007|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:06:23.1628|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:06:27.4568|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:06:27.4568|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:06:27.4568|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:06:27.4568|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:06:27.4568|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:06:24.1664|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:06:28.4257|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:06:28.4257|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:06:28.4257|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:06:28.4257|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:06:28.4257|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:06:25.1927|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:06:29.2886|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:06:29.2886|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:06:29.2886|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:06:29.2886|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:06:29.2886|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:06:26.5007|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:06:30.1249|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:06:30.1249|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:06:30.1249|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:30.1249|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:30.1249|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:06:27.4568|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:06:28.5774|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:06:31.9285|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:06:31.9285|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:06:31.9285|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:06:31.9285|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:06:31.9285|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:06:28.4257|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:06:29.2886|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:06:30.1249|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:06:35.1487|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:06:31.0024|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:06:36.0949|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:36.0949|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:36.0949|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:36.0949|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:36.0949|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:31.9285|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:06:36.0949|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:06:38.3577|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:06:32.9161|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:06:39.6232|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:06:39.6232|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:39.6232|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:39.6232|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:39.6232|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:33.7871|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETS", Request id "0HN2DQSDTDETS:00000002": started reading request body.
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETS", Request id "0HN2DQSDTDETS:00000002": done reading request body.
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.Application'
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:06:40.4616|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:06:40.4616|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:40.4616|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:40.4616|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:40.4616|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:41.2370|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETO" received FIN.
2024-03-27 00:06:41.2370|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETO" sending FIN because: "The client closed the connection."
2024-03-27 00:06:41.2370|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETQ" received FIN.
2024-03-27 00:06:41.2370|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETO" disconnecting.
2024-03-27 00:06:41.2370|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETQ" sending FIN because: "The client closed the connection."
2024-03-27 00:06:41.2370|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETQ" disconnecting.
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETS" received FIN.
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETS" sending FIN because: "The client closed the connection."
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETR" received FIN.
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETS" disconnecting.
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETP" received FIN.
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETR" sending FIN because: "The client closed the connection."
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETP" sending FIN because: "The client closed the connection."
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETP" disconnecting.
2024-03-27 00:06:41.2405|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETR" disconnecting.
2024-03-27 00:06:37.5081|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:06:41.8151|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETP", Request id "0HN2DQSDTDETP:00000003": started reading request body.
2024-03-27 00:06:38.3577|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:06:42.7130|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:06:42.7130|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:06:42.7130|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:42.7130|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:42.7130|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:06:39.6232|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:06:43.5661|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:06:41.8173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 2.0642ms
2024-03-27 00:06:40.4616|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:06:45.3254|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) with arguments (ApiSocialNetwork.Models.Application)
2024-03-27 00:06:43.5661|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:06:46.1528|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:06:46.1528|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:06:46.1528|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:46.1609|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:46.1609|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:06:35.1717|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:06:47.0320|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:06:47.0320|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:47.0320|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:44.4398|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:06:47.0320|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4,319ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:06:48.6261|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:06:45.3254|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:06:49.6178|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"SocialNetworkContext"' generated a temporary value for the property '"IdApplications"."Application"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:06:49.6335|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:06:47.7305|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync(Stream utf8Json, ReadBufferState bufferState, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:06:48.6318|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:06:51.9033|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:06:51.9033|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:51.9033|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:47.0320|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cf176a2c-2d82-44a7-9357-b8d3fd8dc69e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cf176a2c-2d82-44a7-9357-b8d3fd8dc69e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:06:52.7956|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:52.7956|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:52.7956|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:52.7956|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:50.9656|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 400 - text/plain;+charset=utf-8 22388.2377ms
2024-03-27 00:06:54.1511|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETP", Request id "0HN2DQSDTDETP:00000003": done reading request body.
2024-03-27 00:06:54.1511|DEBUG|Microsoft.AspNetCore.Server.Kestrel.BadRequests|Connection id "0HN2DQSDTDETP" bad request data: "Invalid request line."|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-27 00:06:54.1511|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETP" stopped.
2024-03-27 00:06:51.9033|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:06:55.2017|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:55.2017|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:55.2017|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:55.2017|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:51.9033|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2,261ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:06:56.1211|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Application.IdApplications' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-27 00:06:56.1211|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:06:56.1211|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:06:56.1211|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:06:56.1211|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:56.1211|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:56.1211|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:06:56.1307|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Application' tracked by 'SocialNetworkContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:06:56.1307|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:06:52.7956|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 28058.8563ms
2024-03-27 00:06:55.2017|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 19107.1584ms
2024-03-27 00:06:56.1307|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 10808.3103ms.
2024-03-27 00:06:58.6755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:58.6755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:06:58.6755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:58.6755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:58.6755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:06:58.6755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:06:58.6755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:06:58.6755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:06:58.6755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:06:58.6755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:06:58.6755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:06:58.6755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:06:56.8278|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:06:47.0320|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (874ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:07:00.5256|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:06:57.7221|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:00.5631|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:07:03.1331|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:07:03.1331|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:03.1331|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:06:58.6755|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtActionResult, writing value of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:07:04.0267|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Found the endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-03-27 00:07:04.0267|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Successfully processed template api/Applications/{id} for ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) resulting in /api/Applications/10 and 
2024-03-27 00:07:04.0267|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Link generation succeeded for endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) with result /api/Applications/10
2024-03-27 00:07:04.0267|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:07:04.0267|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:04.0267|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:01.5156|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:07:04.9354|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:03.1331|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:07:06.0163|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:06.0163|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:06.0163|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:06.0163|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:06:59.5818|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cf176a2c-2d82-44a7-9357-b8d3fd8dc69e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:07:06.9153|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:04.9354|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 41770.9651ms
2024-03-27 00:07:07.9262|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETQ" stopped.
2024-03-27 00:07:04.0358|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 23574.1947ms
2024-03-27 00:07:06.0163|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 26393.694ms
2024-03-27 00:07:06.9153|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 45762.7093ms
2024-03-27 00:07:10.5956|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETO" stopped.
2024-03-27 00:07:08.8352|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:07:11.4617|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:09.7312|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:11.4617|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 0 - application/json;+charset=utf-8 46269.0911ms
2024-03-27 00:07:13.5766|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETS" stopped.
2024-03-27 00:07:12.7227|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:07:14.5515|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:14.5515|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 50384.8628ms
2024-03-27 00:07:15.5016|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETR" stopped.
2024-03-27 00:07:20.3987|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETT" accepted.
2024-03-27 00:07:20.3987|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETT" started.
2024-03-27 00:07:20.3987|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:07:21.1283|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:07:21.1283|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:07:21.1283|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:07:21.1283|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:07:21.1283|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:21.4052|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETU" accepted.
2024-03-27 00:07:21.4052|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETU" started.
2024-03-27 00:07:21.1283|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:22.4191|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETV" accepted.
2024-03-27 00:07:22.4191|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETV" started.
2024-03-27 00:07:21.4052|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119
2024-03-27 00:07:22.8740|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:07:22.8740|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|PUT requests are not supported
2024-03-27 00:07:22.8740|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/MessageUsers/15'
2024-03-27 00:07:22.8740|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)' with route pattern 'api/MessageUsers/{id}' is valid for the request path '/api/MessageUsers/15'
2024-03-27 00:07:22.8740|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:07:23.4330|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU0" accepted.
2024-03-27 00:07:23.4330|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU0" started.
2024-03-27 00:07:21.9291|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:07:23.9853|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:23.9853|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:23.9853|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:23.9853|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:23.9853|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:24.4369|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU1" accepted.
2024-03-27 00:07:24.4369|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU1" started.
2024-03-27 00:07:22.8740|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:07:22.4191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:07:26.3680|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:07:26.3680|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:07:26.3680|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:07:26.3680|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:07:26.3680|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:07:23.4330|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - -
2024-03-27 00:07:27.1073|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:07:27.1073|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU0" completed keep alive response.
2024-03-27 00:07:23.9853|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:07:28.6009|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:07:24.4369|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:07:29.4345|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:07:29.4345|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:07:29.4345|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:07:29.4345|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:07:29.4345|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:24.7191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PutMessageUser", controller = "MessageUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutMessageUser(Int32, ApiSocialNetwork.Models.MessageUser) on controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork).
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' using the name '' in request data ...
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETU", Request id "0HN2DQSDTDETU:00000002": started reading request body.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETU", Request id "0HN2DQSDTDETU:00000002": done reading request body.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.MessageUser'
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:07:30.3648|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:07:30.3648|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:30.3648|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:30.3648|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:30.3648|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:26.3680|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:07:27.1073|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - - - 200 - text/html;charset=utf-8 3674.3131ms
2024-03-27 00:07:28.6009|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:07:33.0434|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:07:33.0434|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:07:33.0434|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:33.0434|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:33.0434|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:07:29.4345|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:30.3648|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:07:34.7763|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) with arguments (15, ApiSocialNetwork.Models.MessageUser)
2024-03-27 00:07:31.3156|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETV", Request id "0HN2DQSDTDETV:00000002": started reading request body.
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDETV", Request id "0HN2DQSDTDETV:00000002": done reading request body.
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.Application'
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:07:35.7084|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:07:35.7084|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:35.7084|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:35.7084|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:35.7084|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:34.7763|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'MessageUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:07:36.7028|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:07:33.8834|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:07:36.9121|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:07:36.9121|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:36.9121|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:36.9121|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:36.9121|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:35.7084|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:07:37.1161|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) with arguments (ApiSocialNetwork.Models.Application)
2024-03-27 00:07:36.9121|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:07:37.3170|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:07:37.1161|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"SocialNetworkContext"' generated a temporary value for the property '"IdApplications"."Application"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:07:37.5094|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:07:37.3170|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:07:37.6954|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:07:37.6954|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:07:37.6954|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:37.6954|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:37.6954|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:07:37.5094|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Application.IdApplications' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Application' tracked by 'SocialNetworkContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:37.8983|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:07:33.0434|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:07:38.0967|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:07:37.8983|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 783.1567ms.
2024-03-27 00:07:38.2709|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:38.2709|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:38.2709|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:38.2709|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:38.2709|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:38.2709|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:38.2709|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:07:38.2709|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:07:38.2709|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:07:38.2709|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:07:38.2709|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:07:38.2709|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:07:38.1056|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:07:38.4759|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:07:38.4759|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:38.4759|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:38.2709|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtActionResult, writing value of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:07:38.6617|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Found the endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-03-27 00:07:38.6617|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Successfully processed template api/Applications/{id} for ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) resulting in /api/Applications/11 and 
2024-03-27 00:07:38.6617|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Link generation succeeded for endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) with result /api/Applications/11
2024-03-27 00:07:38.6617|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:07:38.6617|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:38.6617|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:38.4759|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:07:38.8958|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:38.8958|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:38.8958|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:38.8958|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:38.6617|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 2953.5484ms
2024-03-27 00:07:38.8958|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 14910.7366ms
2024-03-27 00:07:39.0718|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:07:39.4684|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETV" completed keep alive response.
2024-03-27 00:07:39.4684|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:39.2710|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:39.4684|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 201 - application/json;+charset=utf-8 17047.0176ms
2024-03-27 00:07:39.6717|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:07:40.0341|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETT" completed keep alive response.
2024-03-27 00:07:40.0341|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:32.1812|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:07:40.2163|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:07:40.2163|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:07:40.2163|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:07:40.2163|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:07:40.2163|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:07:40.0341|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 19635.2555ms
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU1" received FIN.
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU1" sending FIN because: "The client closed the connection."
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU0" received FIN.
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU0" sending FIN because: "The client closed the connection."
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU1" disconnecting.
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU0" disconnecting.
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETU" received FIN.
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETU" sending FIN because: "The client closed the connection."
2024-03-27 00:07:40.4661|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETU" disconnecting.
2024-03-27 00:07:40.2163|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:07:36.7028|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'MessageUser' tracked by 'SocialNetworkContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:40.8886|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:07:40.6867|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:07:41.0677|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU0", Request id "0HN2DQSDTDEU0:00000003": started reading request body.
2024-03-27 00:07:40.8886|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 6113.0849ms.
2024-03-27 00:07:41.2728|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:41.2728|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:41.2728|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:41.2728|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:41.2728|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:41.2728|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:41.2728|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:07:41.0677|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 1.7372ms
2024-03-27 00:07:41.2728|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2024-03-27 00:07:41.6620|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:07:41.6620|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:41.6620|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:07:41.4614|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:07:41.6620|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) in 11297.1954ms
2024-03-27 00:07:41.8685|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync(Stream utf8Json, ReadBufferState bufferState, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:07:42.0492|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:07:42.4580|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:42.2573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 400 - text/plain;+charset=utf-8 10076.1232ms
2024-03-27 00:07:42.6660|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU0", Request id "0HN2DQSDTDEU0:00000003": done reading request body.
2024-03-27 00:07:42.6660|DEBUG|Microsoft.AspNetCore.Server.Kestrel.BadRequests|Connection id "0HN2DQSDTDEU0" bad request data: "Invalid request line."|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-27 00:07:42.6660|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU0" stopped.
2024-03-27 00:07:42.4580|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119 - 0 - - 21052.6113ms
2024-03-27 00:07:42.8695|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETU" stopped.
2024-03-27 00:07:37.6954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:07:43.0519|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:07:43.0519|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:07:43.2523|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:07:43.2523|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:43.2523|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:07:43.2523|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dc1e1dac-9578-49eb-8141-85acb64f54ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dc1e1dac-9578-49eb-8141-85acb64f54ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:07:43.4636|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:43.4636|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:07:43.4636|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:43.4636|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:07:43.4636|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 6551.8791ms
2024-03-27 00:07:43.6693|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:07:43.8538|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dc1e1dac-9578-49eb-8141-85acb64f54ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:07:44.0705|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:07:44.0705|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 19633.3519ms
2024-03-27 00:07:44.2549|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU1" stopped.
2024-03-27 00:08:14.6092|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETV" received FIN.
2024-03-27 00:08:14.6181|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETT" received FIN.
2024-03-27 00:08:14.6181|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETV" sending FIN because: "The client closed the connection."
2024-03-27 00:08:14.6319|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETT" sending FIN because: "The client closed the connection."
2024-03-27 00:08:14.6319|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETT" disconnecting.
2024-03-27 00:08:14.6319|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETT" stopped.
2024-03-27 00:08:14.6319|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETV" disconnecting.
2024-03-27 00:08:14.6319|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETV" stopped.
2024-03-27 00:08:21.6570|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" accepted.
2024-03-27 00:08:21.6570|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" started.
2024-03-27 00:08:21.6570|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:08:21.8594|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:21.8594|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:08:21.8594|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:08:21.8594|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:08:21.8594|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:21.8594|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:22.0661|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:22.2657|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:22.2657|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:22.2657|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:22.2657|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:22.2657|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:22.2657|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:22.4767|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:08:22.6573|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU3" accepted.
2024-03-27 00:08:22.6573|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU3" started.
2024-03-27 00:08:22.4767|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:22.6699|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:22.6699|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:22.6699|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:22.6699|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:22.6699|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:08:22.6573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:08:22.8740|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:22.8740|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:08:22.8740|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:08:22.8740|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:08:22.8740|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:22.6699|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:23.0783|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:08:22.8740|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:23.0880|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:08:23.4702|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:23.4702|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:23.4702|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:23.6582|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU4" accepted.
2024-03-27 00:08:23.6582|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU4" started.
2024-03-27 00:08:23.2864|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU3", Request id "0HN2DQSDTDEU3:00000002": started reading request body.
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU3", Request id "0HN2DQSDTDEU3:00000002": done reading request body.
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.Application'
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:08:23.6724|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:23.6724|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:23.6724|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:23.6724|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:23.6724|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:23.6582|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:08:23.8728|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:23.8728|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:08:23.8728|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:08:23.8728|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:08:23.8728|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:23.4702|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:08:24.0781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:24.0781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:24.0781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:24.0781|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:23.8728|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:24.0781|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 1812.8408ms
2024-03-27 00:08:24.2353|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:24.6392|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:24.6392|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:24.6392|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:24.6392|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:24.6392|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:24.6598|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU5" accepted.
2024-03-27 00:08:24.6598|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU5" started.
2024-03-27 00:08:24.4487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:24.6392|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:25.0207|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:08:24.8421|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:08:25.2294|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" completed keep alive response.
2024-03-27 00:08:25.2294|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:25.0207|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:25.4317|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:25.4317|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:25.4317|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:25.4317|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:25.4317|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:08:25.2294|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 3571.3619ms
2024-03-27 00:08:25.6701|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU6" accepted.
2024-03-27 00:08:25.6701|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU6" started.
2024-03-27 00:08:24.6598|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0
2024-03-27 00:08:25.8347|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:25.8347|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|DELETE requests are not supported
2024-03-27 00:08:25.8347|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Users/2'
2024-03-27 00:08:25.8347|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)' with route pattern 'api/Users/{id}' is valid for the request path '/api/Users/2'
2024-03-27 00:08:25.8347|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:23.6724|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:26.0346|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) with arguments (ApiSocialNetwork.Models.Application)
2024-03-27 00:08:25.8347|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:26.0346|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"SocialNetworkContext"' generated a temporary value for the property '"IdApplications"."Application"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:26.4166|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:08:26.2121|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork).
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.UsersController (ApiSocialNetwork)
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:26.6169|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:26.6169|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:26.6169|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:26.6169|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:26.6169|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:26.4166|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Application.IdApplications' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Application' tracked by 'SocialNetworkContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:26.8071|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:08:26.7353|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119
2024-03-27 00:08:27.0079|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:27.0079|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|PUT requests are not supported
2024-03-27 00:08:27.0079|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/MessageUsers/15'
2024-03-27 00:08:27.0079|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)' with route pattern 'api/MessageUsers/{id}' is valid for the request path '/api/MessageUsers/15'
2024-03-27 00:08:27.0079|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:08:26.6169|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:27.2166|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) with arguments (2)
2024-03-27 00:08:27.0079|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:08:27.2166|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:27.5795|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:27.5795|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:27.5795|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:27.5795|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:27.5795|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:08:27.3953|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PutMessageUser", controller = "MessageUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutMessageUser(Int32, ApiSocialNetwork.Models.MessageUser) on controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork).
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' using the name '' in request data ...
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU2", Request id "0HN2DQSDTDEU2:00000003": started reading request body.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU2", Request id "0HN2DQSDTDEU2:00000003": done reading request body.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.MessageUser'
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:08:27.7860|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:08:27.7860|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:27.7860|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:27.7860|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:27.7860|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:27.5795|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:27.9935|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:08:27.7860|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:28.1948|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) with arguments (15, ApiSocialNetwork.Models.MessageUser)
2024-03-27 00:08:27.9935|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:08:28.4015|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:28.4015|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:28.4015|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:28.1948|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'MessageUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:28.6063|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:08:28.4015|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:08:28.8297|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:28.8297|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:28.8297|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:28.8297|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:28.6063|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'MessageUser' tracked by 'SocialNetworkContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:29.0105|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:08:28.8297|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 2213.1076ms
2024-03-27 00:08:29.0105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 816.7076ms.
2024-03-27 00:08:29.3998|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:29.3998|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:29.3998|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:29.3998|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:29.3998|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:29.3998|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:29.3998|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:08:29.1945|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:29.3998|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2024-03-27 00:08:29.7911|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:08:29.7911|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:29.7911|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:29.5866|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9aaf5fc3-0e0f-4695-b9a7-5158c6664cc3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:08:29.9799|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU5" completed keep alive response.
2024-03-27 00:08:29.9799|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:29.7911|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) in 2005.1581ms
2024-03-27 00:08:29.9799|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 5319.9250ms
2024-03-27 00:08:30.1797|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:08:30.5830|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" completed keep alive response.
2024-03-27 00:08:30.5830|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:26.8071|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 773.3991ms.
2024-03-27 00:08:30.7883|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:30.7883|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:30.7883|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:30.7883|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:30.7883|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:30.7883|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:30.7883|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:08:30.7883|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:08:30.7883|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:08:30.7883|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:08:30.7883|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:08:30.7883|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:08:30.5830|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119 - 204 - - 3847.7491ms
2024-03-27 00:08:30.7883|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtActionResult, writing value of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:31.2035|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Found the endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-03-27 00:08:31.2035|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Successfully processed template api/Applications/{id} for ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) resulting in /api/Applications/12 and 
2024-03-27 00:08:31.2035|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Link generation succeeded for endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) with result /api/Applications/12
2024-03-27 00:08:31.2035|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:08:31.2035|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:31.2035|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:25.4317|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[ID_User], [u].[FcmToken], [u].[First_name], [u].[Last_name], [u].[Login_User], [u].[Middle_name], [u].[Number_of_messages], [u].[Password_User], [u].[Photo_ID], [u].[Role_ID], [u].[Salt], [u].[Time_in_the_app]
FROM [Users] AS [u]
WHERE [u].[ID_User] = @__p_0
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'SocialNetworkContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:31.4083|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:08:31.2035|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 7531.2802ms
2024-03-27 00:08:31.4126|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [ID_User] = @p0;
SELECT @@ROWCOUNT;
2024-03-27 00:08:31.7898|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:31.7898|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:31.7898|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:31.5862|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:31.9727|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU3" completed keep alive response.
2024-03-27 00:08:31.9727|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:31.7898|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ApiSocialNetwork.Models.SocialNetworkContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-27 00:08:32.1849|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:32.1849|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:32.1849|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:32.1849|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:31.9727|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 201 - application/json;+charset=utf-8 9315.1397ms
2024-03-27 00:08:32.1849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork) in 7546.1163ms
2024-03-27 00:08:25.6701|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/api/Pictures - -
2024-03-27 00:08:32.7421|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:32.7421|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter
2024-03-27 00:08:32.7421|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Pictures'
2024-03-27 00:08:32.7421|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)' with route pattern 'api/Pictures' is valid for the request path '/api/Pictures'
2024-03-27 00:08:32.7421|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:08:32.5560|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.UsersController.DeleteUser (ApiSocialNetwork)'
2024-03-27 00:08:32.7421|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:08:32.9311|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции DELETE с ограничением REFERENCE "FK_User_Message_User". Конфликт произошел в базе данных "SocialNetwork", таблица "dbo.Message_User", column 'User_ID'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:13e3c680-8247-4710-abdb-00c86dd912f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApiSocialNetwork.Controllers.UsersController.DeleteUser(Int32 id) in C:\Users\DELUR\OneDrive\Рабочий стол\ApiSocialNetwork\ApiSocialNetwork\Controllers\UsersController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:08:33.3097|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU4" completed keep alive response.
2024-03-27 00:08:33.3097|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:33.1194|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetPictures", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiSocialNetwork.Models.Picture]]] GetPictures() on controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork).
2024-03-27 00:08:33.5074|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:33.5074|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:33.5074|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:33.5074|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:33.5074|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:33.5074|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:08:33.5074|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:08:33.5074|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:33.5074|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:33.5074|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:33.5074|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:33.3097|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 DELETE http://localhost:5108/api/Users/2 - 0 - 500 - text/plain;+charset=utf-8 9651.2090ms
2024-03-27 00:08:33.5871|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:08:33.9163|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:33.9163|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:08:33.9163|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:08:33.9163|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:08:33.9163|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:33.4772|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119
2024-03-27 00:08:34.1277|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:34.1277|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|PUT requests are not supported
2024-03-27 00:08:34.1277|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/MessageUsers/15'
2024-03-27 00:08:34.1277|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)' with route pattern 'api/MessageUsers/{id}' is valid for the request path '/api/MessageUsers/15'
2024-03-27 00:08:34.1277|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:08:33.9163|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:34.1277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:08:34.3193|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU5", Request id "0HN2DQSDTDEU5:00000003": started reading request body.
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU5", Request id "0HN2DQSDTDEU5:00000003": done reading request body.
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.Application'
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:08:34.6893|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:34.6893|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:34.6893|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:34.6893|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:34.6893|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:34.4995|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PutMessageUser", controller = "MessageUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutMessageUser(Int32, ApiSocialNetwork.Models.MessageUser) on controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork).
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.MessageUsersController (ApiSocialNetwork)
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' using the name '' in request data ...
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU3", Request id "0HN2DQSDTDEU3:00000003": started reading request body.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU3", Request id "0HN2DQSDTDEU3:00000003": done reading request body.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.MessageUser'
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser' ...
2024-03-27 00:08:34.8907|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageUser' of type 'ApiSocialNetwork.Models.MessageUser'.
2024-03-27 00:08:34.8907|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:34.8907|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:34.8907|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:34.8907|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:34.6893|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:35.0785|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) with arguments (ApiSocialNetwork.Models.Application)
2024-03-27 00:08:34.9862|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - -
2024-03-27 00:08:35.2639|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:35.2639|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" completed keep alive response.
2024-03-27 00:08:35.0785|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"SocialNetworkContext"' generated a temporary value for the property '"IdApplications"."Application"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:35.4473|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:08:35.2639|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - - - 200 - text/html;charset=utf-8 278.0793ms
2024-03-27 00:08:35.4473|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Application.IdApplications' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Application' tracked by 'SocialNetworkContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:35.8237|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:08:34.8907|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:36.0268|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) with arguments (15, ApiSocialNetwork.Models.MessageUser)
2024-03-27 00:08:35.8237|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 746.161ms.
2024-03-27 00:08:36.2086|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:36.2086|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:36.2086|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:36.2086|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:36.2086|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:36.2086|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:36.2086|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:08:36.2086|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:08:36.2086|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:08:36.2086|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:08:36.2086|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:08:36.2086|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:08:36.0268|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - -
2024-03-27 00:08:36.4245|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:36.4245|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU4" completed keep alive response.
2024-03-27 00:08:36.2086|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtActionResult, writing value of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:36.6103|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Found the endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-03-27 00:08:36.6103|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Successfully processed template api/Applications/{id} for ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) resulting in /api/Applications/13 and 
2024-03-27 00:08:36.6103|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Link generation succeeded for endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) with result /api/Applications/13
2024-03-27 00:08:36.6103|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:08:36.6103|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:36.6103|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:36.4245|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - - - 200 - text/html;charset=utf-8 393.7510ms
2024-03-27 00:08:36.6103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 1921.3161ms
2024-03-27 00:08:36.6455|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:08:37.2108|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:37.2108|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:08:37.2108|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:08:37.2108|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:08:37.2108|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:37.0045|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:37.4133|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU5" completed keep alive response.
2024-03-27 00:08:37.4133|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:37.2108|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:37.4133|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 201 - application/json;+charset=utf-8 3826.2619ms
2024-03-27 00:08:37.5968|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU2", Request id "0HN2DQSDTDEU2:00000005": started reading request body.
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU2", Request id "0HN2DQSDTDEU2:00000005": done reading request body.
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ApiSocialNetwork.Models.Application'
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:08:37.9755|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'application' of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:37.9755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:37.9755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:37.9755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:37.9755|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:36.0268|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'MessageUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:38.1793|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:08:37.9755|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:38.3855|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) with arguments (ApiSocialNetwork.Models.Application)
2024-03-27 00:08:38.1793|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Message_User] SET [Sender_ID] = @p0, [Sending_time] = @p1, [Text_Message] = @p2, [User_ID] = @p3
WHERE [ID_Message] = @p4;
SELECT @@ROWCOUNT;
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'MessageUser' tracked by 'SocialNetworkContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:38.5846|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:08:38.3855|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"SocialNetworkContext"' generated a temporary value for the property '"IdApplications"."Application"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Application' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'SocialNetworkContext'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'SocialNetworkContext'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:38.7865|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:08:38.5846|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 2558.8083ms.
2024-03-27 00:08:38.9760|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:38.9760|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:38.9760|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:38.9760|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:38.9760|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:38.9760|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:38.9760|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:08:38.7865|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Applications] ([Recipient_ID], [Sender_ID])
VALUES (@p0, @p1);
SELECT [ID_Applications]
FROM [Applications]
WHERE @@ROWCOUNT = 1 AND [ID_Applications] = scope_identity();
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Application.IdApplications' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Application' tracked by 'SocialNetworkContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:39.1646|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'SocialNetworkContext' with 1 entities written to the database.
2024-03-27 00:08:38.9760|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2024-03-27 00:08:39.3660|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult.
2024-03-27 00:08:39.3660|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:39.3660|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:39.1646|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 780.1475ms.
2024-03-27 00:08:39.5560|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:39.5560|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:39.5560|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:39.5560|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:39.5560|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:39.5560|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:39.5560|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:08:39.5560|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:08:39.5560|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:08:39.5560|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:08:39.5560|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:08:39.5560|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:08:39.3660|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork) in 4475.2796ms
2024-03-27 00:08:39.5560|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtActionResult, writing value of type 'ApiSocialNetwork.Models.Application'.
2024-03-27 00:08:39.9700|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Found the endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-03-27 00:08:39.9700|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Successfully processed template api/Applications/{id} for ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) resulting in /api/Applications/14 and 
2024-03-27 00:08:39.9700|DEBUG|Microsoft.AspNetCore.Routing.DefaultLinkGenerator|Link generation succeeded for endpoints ApiSocialNetwork.Controllers.ApplicationsController.GetApplication (ApiSocialNetwork) with result /api/Applications/14
2024-03-27 00:08:39.9700|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.CreatedAtActionResult.
2024-03-27 00:08:39.9700|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:39.9700|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:39.7637|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.MessageUsersController.PutMessageUser (ApiSocialNetwork)'
2024-03-27 00:08:40.1729|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU3" completed keep alive response.
2024-03-27 00:08:40.1729|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:39.9700|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 1994.6703ms
2024-03-27 00:08:40.1729|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT http://localhost:5108/api/MessageUsers/15 application/json 119 - 204 - - 6695.8057ms
2024-03-27 00:08:40.3642|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:40.7619|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" completed keep alive response.
2024-03-27 00:08:40.7619|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:33.5074|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:40.7619|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 201 - application/json;+charset=utf-8 4116.4981ms
2024-03-27 00:08:40.9620|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:41.3365|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:41.3365|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:41.3365|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:41.3365|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:41.3365|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:08:41.3239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33
2024-03-27 00:08:41.5465|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:41.5465|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported
2024-03-27 00:08:41.5465|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Applications'
2024-03-27 00:08:41.5465|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)' with route pattern 'api/Applications' is valid for the request path '/api/Applications'
2024-03-27 00:08:41.5465|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU6" received FIN.
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU5" received FIN.
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU6" sending FIN because: "The client closed the connection."
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU5" sending FIN because: "The client closed the connection."
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU4" received FIN.
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU5" disconnecting.
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU4" sending FIN because: "The client closed the connection."
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU6" disconnecting.
2024-03-27 00:08:41.7362|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU4" disconnecting.
2024-03-27 00:08:41.3545|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5108/api/Pictures - -
2024-03-27 00:08:41.7496|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.
2024-03-27 00:08:41.7496|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter
2024-03-27 00:08:41.7496|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Pictures'
2024-03-27 00:08:41.7496|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)' with route pattern 'api/Pictures' is valid for the request path '/api/Pictures'
2024-03-27 00:08:41.7496|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:08:41.3365|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:08:41.7496|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:08:42.2502|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:42.3080|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:41.5465|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:42.3666|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:42.4282|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:42.4986|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:42.4986|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:42.4986|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:42.4986|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:42.4986|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:42.1537|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetPictures", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiSocialNetwork.Models.Picture]]] GetPictures() on controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork).
2024-03-27 00:08:42.5583|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:42.5583|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:42.5583|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:42.5583|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:42.5583|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:42.5583|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:08:42.5583|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.PicturesController (ApiSocialNetwork)
2024-03-27 00:08:42.5583|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:42.5583|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:42.5583|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:42.5583|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:42.3547|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PostApplication", controller = "Applications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ApiSocialNetwork.Models.Application]] PostApplication(ApiSocialNetwork.Models.Application) on controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork).
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ApiSocialNetwork.Controllers.ApplicationsController (ApiSocialNetwork)
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' ...
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'application' of type 'ApiSocialNetwork.Models.Application' using the name '' in request data ...
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-27 00:08:42.7603|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU5", Request id "0HN2DQSDTDEU5:00000004": started reading request body.
2024-03-27 00:08:42.5583|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) - Validation state: Valid
2024-03-27 00:08:42.7603|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork) in 2.2061ms
2024-03-27 00:08:42.9463|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.23 initialized 'SocialNetworkContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.23' with options: None
2024-03-27 00:08:43.3320|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.
2024-03-27 00:08:43.3320|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).
2024-03-27 00:08:43.3320|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:43.3320|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:43.3320|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:08:43.1289|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.ApplicationsController.PostApplication (ApiSocialNetwork)'
2024-03-27 00:08:43.3336|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ID_Picture], [p].[PhotoData], [p].[UploadDate]
FROM [Picture] AS [p]
ORDER BY [p].[ID_Picture] DESC
2024-03-27 00:08:43.5216|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync(Stream utf8Json, ReadBufferState bufferState, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-03-27 00:08:44.0102|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:44.0613|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:42.4986|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1539.7693ms.
2024-03-27 00:08:44.0792|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:44.0792|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:44.0792|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:44.0792|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:44.0792|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.0792|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.0792|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:08:44.0792|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:08:44.0792|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:08:44.0792|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:08:44.0792|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:08:44.0792|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:08:44.1143|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:44.1678|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:44.2295|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:44.2295|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'SocialNetworkContext' started tracking 'Picture' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-27 00:08:44.2295|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.
2024-03-27 00:08:44.2295|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:44.2295|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-SQB4B00\DELUR'.
2024-03-27 00:08:43.8961|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5108/api/Applications application/json 33 - 400 - text/plain;+charset=utf-8 2572.2046ms
2024-03-27 00:08:44.2857|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN2DQSDTDEU5", Request id "0HN2DQSDTDEU5:00000004": done reading request body.
2024-03-27 00:08:44.2857|DEBUG|Microsoft.AspNetCore.Server.Kestrel.BadRequests|Connection id "0HN2DQSDTDEU5" bad request data: "Invalid request line."|Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-27 00:08:44.2866|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU5" stopped.
2024-03-27 00:08:44.2295|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1285.8055ms.
2024-03-27 00:08:44.4901|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:44.4901|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-27 00:08:44.4901|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:44.4901|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-27 00:08:44.4901|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.4901|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.4901|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:08:44.4901|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-27 00:08:44.4901|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation.
2024-03-27 00:08:44.4901|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-27 00:08:44.4901|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-27 00:08:44.4901|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-27 00:08:44.0792|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApiSocialNetwork.Models.Picture, ApiSocialNetwork, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-27 00:08:44.6950|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:08:44.6950|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.6950|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.4901|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApiSocialNetwork.Models.Picture, ApiSocialNetwork, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-27 00:08:44.8931|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-03-27 00:08:44.8931|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.8931|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-27 00:08:44.6950|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) in 11187.5953ms
2024-03-27 00:08:44.8931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork) in 2334.8435ms
2024-03-27 00:08:45.0691|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:08:45.4917|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:45.3027|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ApiSocialNetwork.Controllers.PicturesController.GetPictures (ApiSocialNetwork)'
2024-03-27 00:08:45.6942|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'SocialNetworkContext' disposed.
2024-03-27 00:08:45.4917|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/api/Pictures - - - 0 - application/json;+charset=utf-8 19821.2799ms
2024-03-27 00:08:45.8964|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU6" stopped.
2024-03-27 00:08:45.6942|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5108/api/Pictures - - - 0 - application/json;+charset=utf-8 4339.7146ms
2024-03-27 00:08:46.0823|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU4" stopped.
2024-03-27 00:09:25.4805|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETN" received FIN.
2024-03-27 00:09:25.4805|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETN" disconnecting.
2024-03-27 00:09:25.4805|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDETN" stopped.
2024-03-27 00:09:25.4931|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDETN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-27 00:13:56.0938|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU2" reset.
2024-03-27 00:13:56.0938|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU3" reset.
2024-03-27 00:13:56.1032|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU2" sending FIN because: "The client closed the connection."
2024-03-27 00:13:56.1155|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" disconnecting.
2024-03-27 00:13:56.1155|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU2" stopped.
2024-03-27 00:13:56.1155|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN2DQSDTDEU3" sending FIN because: "The client closed the connection."
2024-03-27 00:13:56.1155|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU3" disconnecting.
2024-03-27 00:13:56.1391|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN2DQSDTDEU3" stopped.
